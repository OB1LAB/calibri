{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/OB1CHAM/Desktop/OB1LAB/React/calibri/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/OB1CHAM/Desktop/OB1LAB/React/calibri/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/OB1CHAM/Desktop/OB1LAB/React/calibri/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Modal from\"../modal/Modal\";import classes from\"./Information.module.css\";import SalaryService from\"../../services/SalaryService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function InformationSalary(_ref){var value=_ref.value,user=_ref.user,selectedServer=_ref.selectedServer,setData=_ref.setData;var _useState=useState(value),_useState2=_slicedToArray(_useState,2),amount=_useState2[0],setAmount=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),modal=_useState4[0],setModal=_useState4[1];var changeCoffers=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return SalaryService.changeCoffers(amount,selectedServer);case 2:response=_context.sent;response&&setData(response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function changeCoffers(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:classes.information,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.coffers,children:[user[selectedServer][\"lvl\"]>4?/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\u041F\\u043E\\u0433\\u0430\\u0448\\u0435\\u043D\\u043D\\u044B\\u0439 \\u0438\\u0442\\u043E\\u0433:\",\" \",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setAmount(value);setModal(true);},children:value})]}):/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\u041F\\u043E\\u0433\\u0430\\u0448\\u0435\\u043D\\u043D\\u044B\\u0439 \\u0438\\u0442\\u043E\\u0433: \",value]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0417\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435 \\u0417/\\u041F, \\u043A\\u043E\\u0442\\u043E\\u0440\\u043E\\u0435 \\u0431\\u044B\\u043B\\u043E \\u0430\\u043D\\u043D\\u0443\\u043B\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u043E \\u0432 \\u0441\\u0432\\u044F\\u0437\\u0438 \\u0441\\u043E \\u0441\\u043D\\u044F\\u0442\\u0438\\u0435\\u043C/\\u041F\\u0435\\u0440\\u0435\\u0432\\u043E\\u0434\\u043E\\u043C \\u043C\\u043E\\u0434\\u0435\\u0440\\u0430\\u0442\\u043E\\u0440\\u043E\\u0432\"})]}),/*#__PURE__*/_jsx(Modal,{visible:modal,setVisible:setModal,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.salaryModal,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.salaryCoffers,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0417\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435:\"}),/*#__PURE__*/_jsx(\"input\",{value:amount,onChange:function onChange(e){if(e.target.value){setAmount(Math.ceil(e.target.value));}else{setAmount(\"\");}},type:\"number\",min:\"0\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){changeCoffers();setModal(false);},children:\"\\u0423\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\"})]})})]});}","map":{"version":3,"names":["React","useState","Modal","classes","SalaryService","InformationSalary","value","user","selectedServer","setData","amount","setAmount","modal","setModal","changeCoffers","response","data","information","coffers","salaryModal","salaryCoffers","e","target","Math","ceil"],"sources":["C:/Users/OB1CHAM/Desktop/OB1LAB/React/calibri/client/src/components/Informations/InformationSalary.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Modal from \"../modal/Modal\";\r\nimport classes from \"./Information.module.css\";\r\nimport SalaryService from \"../../services/SalaryService\";\r\n\r\nexport default function InformationSalary({\r\n  value,\r\n  user,\r\n  selectedServer,\r\n  setData,\r\n}) {\r\n  const [amount, setAmount] = useState(value);\r\n  const [modal, setModal] = useState(false);\r\n  const changeCoffers = async () => {\r\n    let response = await SalaryService.changeCoffers(amount, selectedServer);\r\n    response && setData(response.data);\r\n  };\r\n  return (\r\n    <div className={classes.information}>\r\n      <div className={classes.coffers}>\r\n        {user[selectedServer][\"lvl\"] > 4 ? (\r\n          <h2>\r\n            Погашенный итог:{\" \"}\r\n            <button\r\n              onClick={() => {\r\n                setAmount(value);\r\n                setModal(true);\r\n              }}\r\n            >\r\n              {value}\r\n            </button>\r\n          </h2>\r\n        ) : (\r\n          <h2>Погашенный итог: {value}</h2>\r\n        )}\r\n        <p>\r\n          Значение З/П, которое было аннулировано в связи со снятием/Переводом\r\n          модераторов\r\n        </p>\r\n      </div>\r\n      <Modal visible={modal} setVisible={setModal}>\r\n        <div className={classes.salaryModal}>\r\n          <div className={classes.salaryCoffers}>\r\n            <h1>Значение:</h1>\r\n            <input\r\n              value={amount}\r\n              onChange={(e) => {\r\n                if (e.target.value) {\r\n                  setAmount(Math.ceil(e.target.value));\r\n                } else {\r\n                  setAmount(\"\");\r\n                }\r\n              }}\r\n              type=\"number\"\r\n              min=\"0\"\r\n            ></input>\r\n          </div>\r\n          <button\r\n            onClick={() => {\r\n              changeCoffers();\r\n              setModal(false);\r\n            }}\r\n          >\r\n            Установить\r\n          </button>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"8aAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAOC,MAAK,KAAM,gBAAgB,CAClC,MAAOC,QAAO,KAAM,0BAA0B,CAC9C,MAAOC,cAAa,KAAM,8BAA8B,CAAC,wFAEzD,cAAe,SAASC,kBAAiB,MAKtC,IAJDC,MAAK,MAALA,KAAK,CACLC,IAAI,MAAJA,IAAI,CACJC,cAAc,MAAdA,cAAc,CACdC,OAAO,MAAPA,OAAO,CAEP,cAA4BR,QAAQ,CAACK,KAAK,CAAC,wCAApCI,MAAM,eAAEC,SAAS,eACxB,eAA0BV,QAAQ,CAAC,KAAK,CAAC,yCAAlCW,KAAK,eAAEC,QAAQ,eACtB,GAAMC,cAAa,6FAAG,wKACCV,cAAa,CAACU,aAAa,CAACJ,MAAM,CAAEF,cAAc,CAAC,QAApEO,QAAQ,eACZA,QAAQ,EAAIN,OAAO,CAACM,QAAQ,CAACC,IAAI,CAAC,CAAC,sDACpC,kBAHKF,cAAa,2CAGlB,CACD,mBACE,aAAK,SAAS,CAAEX,OAAO,CAACc,WAAY,wBAClC,aAAK,SAAS,CAAEd,OAAO,CAACe,OAAQ,WAC7BX,IAAI,CAACC,cAAc,CAAC,CAAC,KAAK,CAAC,CAAG,CAAC,cAC9B,+GACmB,GAAG,cACpB,eACE,OAAO,CAAE,kBAAM,CACbG,SAAS,CAACL,KAAK,CAAC,CAChBO,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAE,UAEDP,KAAK,EACC,GACN,cAEL,gHAAsBA,KAAK,GAC5B,cACD,2bAGI,GACA,cACN,KAAC,KAAK,EAAC,OAAO,CAAEM,KAAM,CAAC,UAAU,CAAEC,QAAS,uBAC1C,aAAK,SAAS,CAAEV,OAAO,CAACgB,WAAY,wBAClC,aAAK,SAAS,CAAEhB,OAAO,CAACiB,aAAc,wBACpC,yEAAkB,cAClB,cACE,KAAK,CAAEV,MAAO,CACd,QAAQ,CAAE,kBAACW,CAAC,CAAK,CACf,GAAIA,CAAC,CAACC,MAAM,CAAChB,KAAK,CAAE,CAClBK,SAAS,CAACY,IAAI,CAACC,IAAI,CAACH,CAAC,CAACC,MAAM,CAAChB,KAAK,CAAC,CAAC,CACtC,CAAC,IAAM,CACLK,SAAS,CAAC,EAAE,CAAC,CACf,CACF,CAAE,CACF,IAAI,CAAC,QAAQ,CACb,GAAG,CAAC,GAAG,EACA,GACL,cACN,eACE,OAAO,CAAE,kBAAM,CACbG,aAAa,EAAE,CACfD,QAAQ,CAAC,KAAK,CAAC,CACjB,CAAE,0EAGK,GACL,EACA,GACJ,CAEV"},"metadata":{},"sourceType":"module"}