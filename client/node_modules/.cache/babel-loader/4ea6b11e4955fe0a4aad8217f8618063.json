{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/OB1CHAM/Desktop/OB1LAB/React/calibri/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/OB1CHAM/Desktop/OB1LAB/React/calibri/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/OB1CHAM/Desktop/OB1LAB/React/calibri/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState,useContext}from\"react\";import SelectServer from\"../components/Selectors/SelectServer\";import StaffList from\"../components/admin/StaffList\";import SelectAction from\"../components/Selectors/SelectAction\";import UserService from\"../services/UserService\";import{Context}from\"..\";import Logs from\"../components/admin/Logs\";import ReportEdit from\"../components/admin/ReportEdit\";import\"../styles/Admin.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminPage(){var _useContext=useContext(Context),store=_useContext.store;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),staff=_useState2[0],setStaff=_useState2[1];var _useState3=useState(\"appointment\"),_useState4=_slicedToArray(_useState3,2),action=_useState4[0],setAction=_useState4[1];var _useState5=useState({value:\"dt\",label:\"DraconicTech\"}),_useState6=_slicedToArray(_useState5,2),selectedServer=_useState6[0],setselectedServer=_useState6[1];useEffect(function(){document.title=\"Админ панель\";var getUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return UserService.fetchUsers();case 2:response=_context.sent;response&&setStaff(response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getUsers(){return _ref.apply(this,arguments);};}();getUsers();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"adminPage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"selectAction\",children:/*#__PURE__*/_jsx(SelectAction,{onChange:setAction})}),action===\"appointment\"&&/*#__PURE__*/_jsxs(\"div\",{style:{width:\"1400px\"},children:[/*#__PURE__*/_jsx(SelectServer,{value:selectedServer,onChange:function onChange(value){setselectedServer(value);}}),/*#__PURE__*/_jsx(StaffList,{staffData:staff,user:store.user,selectedServer:selectedServer.value,setStaff:setStaff})]})||action===\"logs\"&&/*#__PURE__*/_jsx(Logs,{})||action===\"reportEdit\"&&/*#__PURE__*/_jsx(ReportEdit,{})]});}","map":{"version":3,"names":["React","useEffect","useState","useContext","SelectServer","StaffList","SelectAction","UserService","Context","Logs","ReportEdit","AdminPage","store","staff","setStaff","action","setAction","value","label","selectedServer","setselectedServer","document","title","getUsers","fetchUsers","response","data","width","user"],"sources":["C:/Users/OB1CHAM/Desktop/OB1LAB/React/calibri/client/src/pages/AdminPage.jsx"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport SelectServer from \"../components/Selectors/SelectServer\";\r\nimport StaffList from \"../components/admin/StaffList\";\r\nimport SelectAction from \"../components/Selectors/SelectAction\";\r\nimport UserService from \"../services/UserService\";\r\nimport { Context } from \"..\";\r\nimport Logs from \"../components/admin/Logs\";\r\nimport ReportEdit from \"../components/admin/ReportEdit\";\r\nimport \"../styles/Admin.css\";\r\n\r\nexport default function AdminPage() {\r\n  const { store } = useContext(Context);\r\n  const [staff, setStaff] = useState([]);\r\n  const [action, setAction] = useState(\"appointment\");\r\n  const [selectedServer, setselectedServer] = useState({\r\n    value: \"dt\",\r\n    label: \"DraconicTech\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    document.title = \"Админ панель\";\r\n    const getUsers = async () => {\r\n      const response = await UserService.fetchUsers();\r\n      response && setStaff(response.data);\r\n    };\r\n    getUsers();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"adminPage\">\r\n      <div className=\"selectAction\">\r\n        <SelectAction onChange={setAction} />\r\n      </div>\r\n      {(action === \"appointment\" && (\r\n        <div style={{ width: \"1400px\" }}>\r\n          <SelectServer\r\n            value={selectedServer}\r\n            onChange={(value) => {\r\n              setselectedServer(value);\r\n            }}\r\n          />\r\n          <StaffList\r\n            staffData={staff}\r\n            user={store.user}\r\n            selectedServer={selectedServer.value}\r\n            setStaff={setStaff}\r\n          />\r\n        </div>\r\n      )) ||\r\n        (action === \"logs\" && <Logs />) ||\r\n        (action === \"reportEdit\" && <ReportEdit />)}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"8aAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CAC9D,MAAOC,aAAY,KAAM,sCAAsC,CAC/D,MAAOC,UAAS,KAAM,+BAA+B,CACrD,MAAOC,aAAY,KAAM,sCAAsC,CAC/D,MAAOC,YAAW,KAAM,yBAAyB,CACjD,OAASC,OAAO,KAAQ,IAAI,CAC5B,MAAOC,KAAI,KAAM,0BAA0B,CAC3C,MAAOC,WAAU,KAAM,gCAAgC,CACvD,MAAO,qBAAqB,CAAC,wFAE7B,cAAe,SAASC,UAAS,EAAG,CAClC,gBAAkBR,UAAU,CAACK,OAAO,CAAC,CAA7BI,KAAK,aAALA,KAAK,CACb,cAA0BV,QAAQ,CAAC,EAAE,CAAC,wCAA/BW,KAAK,eAAEC,QAAQ,eACtB,eAA4BZ,QAAQ,CAAC,aAAa,CAAC,yCAA5Ca,MAAM,eAAEC,SAAS,eACxB,eAA4Cd,QAAQ,CAAC,CACnDe,KAAK,CAAE,IAAI,CACXC,KAAK,CAAE,cACT,CAAC,CAAC,yCAHKC,cAAc,eAAEC,iBAAiB,eAKxCnB,SAAS,CAAC,UAAM,CACdoB,QAAQ,CAACC,KAAK,CAAG,cAAc,CAC/B,GAAMC,SAAQ,4FAAG,wKACQhB,YAAW,CAACiB,UAAU,EAAE,QAAzCC,QAAQ,eACdA,QAAQ,EAAIX,QAAQ,CAACW,QAAQ,CAACC,IAAI,CAAC,CAAC,sDACrC,kBAHKH,SAAQ,0CAGb,CACDA,QAAQ,EAAE,CACZ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,aAAK,SAAS,CAAC,WAAW,wBACxB,YAAK,SAAS,CAAC,cAAc,uBAC3B,KAAC,YAAY,EAAC,QAAQ,CAAEP,SAAU,EAAG,EACjC,CACJD,MAAM,GAAK,aAAa,eACxB,aAAK,KAAK,CAAE,CAAEY,KAAK,CAAE,QAAS,CAAE,wBAC9B,KAAC,YAAY,EACX,KAAK,CAAER,cAAe,CACtB,QAAQ,CAAE,kBAACF,KAAK,CAAK,CACnBG,iBAAiB,CAACH,KAAK,CAAC,CAC1B,CAAE,EACF,cACF,KAAC,SAAS,EACR,SAAS,CAAEJ,KAAM,CACjB,IAAI,CAAED,KAAK,CAACgB,IAAK,CACjB,cAAc,CAAET,cAAc,CAACF,KAAM,CACrC,QAAQ,CAAEH,QAAS,EACnB,GAEL,EACEC,MAAM,GAAK,MAAM,eAAI,KAAC,IAAI,IAAI,EAC9BA,MAAM,GAAK,YAAY,eAAI,KAAC,UAAU,IAAI,GACzC,CAEV"},"metadata":{},"sourceType":"module"}