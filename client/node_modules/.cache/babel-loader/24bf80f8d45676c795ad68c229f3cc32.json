{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/OB1CHAM/Desktop/OB1LAB/React/calibri/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/OB1CHAM/Desktop/OB1LAB/React/calibri/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/OB1CHAM/Desktop/OB1LAB/React/calibri/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState,useContext}from\"react\";import SelectServer from\"../components/Selectors/SelectServer\";import StaffSalary from\"../components/tables/StaffSalary\";import CriteriaSalary from\"../components/criterias/CriteriaSalary\";import CriteriaViolations from\"../components/criterias/CriteriaViolations\";import Loader from\"../components/Loader/Loader\";import\"../styles/StaffSalary.css\";import{Context}from\"..\";import SalaryService from\"../services/SalaryService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function StaffSalaryPage(){var _useContext=useContext(Context),store=_useContext.store;var _useState=useState(\"dt\"),_useState2=_slicedToArray(_useState,2),selectedServer=_useState2[0],setselectedServer=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),staffData=_useState4[0],setStaffData=_useState4[1];useEffect(function(){var setData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return SalaryService.fetchSalary();case 2:response=_context.sent;response&&setStaffData(response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function setData(){return _ref.apply(this,arguments);};}();setData();document.title=\"Зп состава\";},[]);if(Object.keys(staffData).length===0){return/*#__PURE__*/_jsx(Loader,{});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SelectServer,{onChange:function onChange(_ref2){var value=_ref2.value;setselectedServer(value);}}),/*#__PURE__*/_jsx(StaffSalary,{user:store.user,selectedServer:selectedServer,staffData:staffData[selectedServer],setData:setStaffData}),/*#__PURE__*/_jsxs(\"div\",{className:\"criteries\",children:[/*#__PURE__*/_jsx(CriteriaSalary,{}),/*#__PURE__*/_jsx(CriteriaViolations,{})]})]});}","map":{"version":3,"names":["React","useEffect","useState","useContext","SelectServer","StaffSalary","CriteriaSalary","CriteriaViolations","Loader","Context","SalaryService","StaffSalaryPage","store","selectedServer","setselectedServer","staffData","setStaffData","setData","fetchSalary","response","data","document","title","Object","keys","length","value","user"],"sources":["C:/Users/OB1CHAM/Desktop/OB1LAB/React/calibri/client/src/pages/StaffSalaryPage.jsx"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport SelectServer from \"../components/Selectors/SelectServer\";\r\nimport StaffSalary from \"../components/tables/StaffSalary\";\r\nimport CriteriaSalary from \"../components/criterias/CriteriaSalary\";\r\nimport CriteriaViolations from \"../components/criterias/CriteriaViolations\";\r\nimport Loader from \"../components/Loader/Loader\";\r\nimport \"../styles/StaffSalary.css\";\r\nimport { Context } from \"..\";\r\nimport SalaryService from \"../services/SalaryService\";\r\n\r\nexport default function StaffSalaryPage() {\r\n  const { store } = useContext(Context);\r\n  const [selectedServer, setselectedServer] = useState(\"dt\");\r\n  const [staffData, setStaffData] = useState({});\r\n\r\n  useEffect(() => {\r\n    const setData = async () => {\r\n      const response = await SalaryService.fetchSalary();\r\n      response && setStaffData(response.data);\r\n    };\r\n    setData();\r\n    document.title = \"Зп состава\";\r\n  }, []);\r\n\r\n  if (Object.keys(staffData).length === 0) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <SelectServer\r\n        onChange={({ value }) => {\r\n          setselectedServer(value);\r\n        }}\r\n      />\r\n      <StaffSalary\r\n        user={store.user}\r\n        selectedServer={selectedServer}\r\n        staffData={staffData[selectedServer]}\r\n        setData={setStaffData}\r\n      />\r\n      <div className=\"criteries\">\r\n        <CriteriaSalary />\r\n        <CriteriaViolations />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"8aAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CAC9D,MAAOC,aAAY,KAAM,sCAAsC,CAC/D,MAAOC,YAAW,KAAM,kCAAkC,CAC1D,MAAOC,eAAc,KAAM,wCAAwC,CACnE,MAAOC,mBAAkB,KAAM,4CAA4C,CAC3E,MAAOC,OAAM,KAAM,6BAA6B,CAChD,MAAO,2BAA2B,CAClC,OAASC,OAAO,KAAQ,IAAI,CAC5B,MAAOC,cAAa,KAAM,2BAA2B,CAAC,wFAEtD,cAAe,SAASC,gBAAe,EAAG,CACxC,gBAAkBR,UAAU,CAACM,OAAO,CAAC,CAA7BG,KAAK,aAALA,KAAK,CACb,cAA4CV,QAAQ,CAAC,IAAI,CAAC,wCAAnDW,cAAc,eAAEC,iBAAiB,eACxC,eAAkCZ,QAAQ,CAAC,CAAC,CAAC,CAAC,yCAAvCa,SAAS,eAAEC,YAAY,eAE9Bf,SAAS,CAAC,UAAM,CACd,GAAMgB,QAAO,4FAAG,wKACSP,cAAa,CAACQ,WAAW,EAAE,QAA5CC,QAAQ,eACdA,QAAQ,EAAIH,YAAY,CAACG,QAAQ,CAACC,IAAI,CAAC,CAAC,sDACzC,kBAHKH,QAAO,0CAGZ,CACDA,OAAO,EAAE,CACTI,QAAQ,CAACC,KAAK,CAAG,YAAY,CAC/B,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIC,MAAM,CAACC,IAAI,CAACT,SAAS,CAAC,CAACU,MAAM,GAAK,CAAC,CAAE,CACvC,mBAAO,KAAC,MAAM,IAAG,CACnB,CAEA,mBACE,oCACE,KAAC,YAAY,EACX,QAAQ,CAAE,wBAAe,IAAZC,MAAK,OAALA,KAAK,CAChBZ,iBAAiB,CAACY,KAAK,CAAC,CAC1B,CAAE,EACF,cACF,KAAC,WAAW,EACV,IAAI,CAAEd,KAAK,CAACe,IAAK,CACjB,cAAc,CAAEd,cAAe,CAC/B,SAAS,CAAEE,SAAS,CAACF,cAAc,CAAE,CACrC,OAAO,CAAEG,YAAa,EACtB,cACF,aAAK,SAAS,CAAC,WAAW,wBACxB,KAAC,cAAc,IAAG,cAClB,KAAC,kBAAkB,IAAG,GAClB,GACF,CAEV"},"metadata":{},"sourceType":"module"}