{"ast":null,"code":"import React,{useEffect}from\"react\";import{useContext}from\"react\";import{Context}from\"..\";import{Navigate}from\"react-router-dom\";import Loader from\"../components/Loader/Loader\";import{observer}from\"mobx-react-lite\";import{INDEX_ROUTE}from\"../utils/consts\";import{jsx as _jsx}from\"react/jsx-runtime\";var LoginPage=function LoginPage(){var _useContext=useContext(Context),store=_useContext.store;useEffect(function(){document.title=\"Авторизация\";var code=window.location.search.split(\"=\")[1];if(code){store.login(code);}// eslint-disable-next-line\n},[]);if(Object.keys(store.user).length===0){return/*#__PURE__*/_jsx(Loader,{});}return/*#__PURE__*/_jsx(\"div\",{className:\"Login\",children:store.isAuth?/*#__PURE__*/_jsx(Navigate,{replace:true,to:INDEX_ROUTE}):/*#__PURE__*/_jsx(\"h1\",{style:{color:\"#710000\"},children:\"\\u0412\\u0430\\u0448 discord ID \\u043D\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\"})});};export default observer(LoginPage);","map":{"version":3,"names":["React","useEffect","useContext","Context","Navigate","Loader","observer","INDEX_ROUTE","LoginPage","store","document","title","code","window","location","search","split","login","Object","keys","user","length","isAuth","color"],"sources":["C:/Users/OB1CHAM/Desktop/OB1LAB/React/calibri/client/src/pages/LoginPage.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { Context } from \"..\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport Loader from \"../components/Loader/Loader\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { INDEX_ROUTE } from \"../utils/consts\";\r\n\r\nconst LoginPage = () => {\r\n  const { store } = useContext(Context);\r\n\r\n  useEffect(() => {\r\n    document.title = \"Авторизация\";\r\n    let code = window.location.search.split(\"=\")[1];\r\n    if (code) {\r\n      store.login(code);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  if (Object.keys(store.user).length === 0) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"Login\">\r\n      {store.isAuth ? (\r\n        <Navigate replace to={INDEX_ROUTE} />\r\n      ) : (\r\n        <h1 style={{ color: \"#710000\" }}>Ваш discord ID не зарегистрирован</h1>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default observer(LoginPage);\r\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,UAAU,KAAQ,OAAO,CAClC,OAASC,OAAO,KAAQ,IAAI,CAC5B,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,MAAOC,OAAM,KAAM,6BAA6B,CAChD,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,OAASC,WAAW,KAAQ,iBAAiB,CAAC,2CAE9C,GAAMC,UAAS,CAAG,QAAZA,UAAS,EAAS,CACtB,gBAAkBN,UAAU,CAACC,OAAO,CAAC,CAA7BM,KAAK,aAALA,KAAK,CAEbR,SAAS,CAAC,UAAM,CACdS,QAAQ,CAACC,KAAK,CAAG,aAAa,CAC9B,GAAIC,KAAI,CAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC/C,GAAIJ,IAAI,CAAE,CACRH,KAAK,CAACQ,KAAK,CAACL,IAAI,CAAC,CACnB,CACA;AACF,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIM,MAAM,CAACC,IAAI,CAACV,KAAK,CAACW,IAAI,CAAC,CAACC,MAAM,GAAK,CAAC,CAAE,CACxC,mBAAO,KAAC,MAAM,IAAG,CACnB,CAEA,mBACE,YAAK,SAAS,CAAC,OAAO,UACnBZ,KAAK,CAACa,MAAM,cACX,KAAC,QAAQ,EAAC,OAAO,MAAC,EAAE,CAAEf,WAAY,EAAG,cAErC,WAAI,KAAK,CAAE,CAAEgB,KAAK,CAAE,SAAU,CAAE,mJACjC,EACG,CAEV,CAAC,CAED,cAAejB,SAAQ,CAACE,SAAS,CAAC"},"metadata":{},"sourceType":"module"}